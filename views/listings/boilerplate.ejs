<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="/css/rating.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
   <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/> -->
     <link
     rel="stylesheet"
     href="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css"
    />
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.17.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v3.17.0/mapbox-gl.js"></script>

</head>
<body>
  <% if(path != "/login") {%>
  <div class="navbar">
    <div class="navbar-1">
      <div class="logo"><i class="fa-regular fa-compass" style="font-size: 32px;"></i></div>
      <div class="all-listings"><a href="/listings" style="text-decoration: none; color: black; font-size: 20px;">Explore</a></div>
    </div>
    <% if(path == "/listings" || path == "/listings/search") {%>
    
      
        <form method="post" action="/listings/search">
          <div class="search">
            <div class="search-bar">
              <i class="fa-solid fa-magnifying-glass search-icon"></i>
              <input type="text" placeholder="Search destinations" name="input" class="search-input">
            </div>
            <div class="search-button">
              <button><i class="fa-solid fa-magnifying-glass" > </i></button>
            </div>
      
          </div>
        </form>
    
    <%}%>

    <% if(path == "/listings") { %>
    <div class="MENU">
      <form method="get" action="/listings/menu">
      <button style="background-color: white; border: none;"><i class="fa-solid fa-bars" style="background-color: white; font-size: 25px;"></i></button>
      </form>
    </div>
    <% } %>

    <div class="navbar-2">
      <div class="add-listing"><a href="/listings/new" style="text-decoration: none; color: black;font-size: 18px;">List your property</a></div>
        <% if(currentUser == undefined) { %>
        <div class="login-buttons">
          <div><b><a class="nav-link" href="/signup">signup</a></b></div>
          <div><b><a class="nav-link" href="/login">login</a></b></div>
        </div>
        <% } %>
        <% if(currentUser != undefined) {%>
          <b><a class="logout" href="/logout">logout</a></b>
          <% } %>
     </div>
  </div>
  <%}%>
  
   <% if(path == "/listings") {%>
    <hr>
   <div class="control">

    <div class="filters">
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-fire"></i></div>
      <p>trending</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-house"></i></div>
      <p>Rooms</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-mountain-city"></i></div>
      <p>Iconic cities</p></a>
    </div>
     <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-mountain"></i></div>
      <p>Mountains</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-brands fa-fort-awesome"></i></div>
      <p>Castles</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-person-swimming"></i></div>
      <p>Amazing pools</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-campground"></i></div>
      <p>Camping</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-cow"></i></div>
      <p>Farms</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-snowflake"></i></div>
      <p>Arctic</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-igloo"></i></div>
      <p>Domes</p></a>
    </div>
    <div class="filter">
      <a href="#">
      <div class="icon"><i class="fa-solid fa-ship"></i></div>
      <p>Boats</p></a>
    </div>

    </div>

    <div class="tax-toggle">
      <div class="form-check-reverse form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
        <label class="form-check-label" for="switchCheckDefault">Display total after taxes</label>
      </div>
    </div>

   </div>
   <% } %>
    <div>
     <% if (success && success.length) { %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <%= success %>
    <button type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"></button>
            <br><br>
  </div>
<% } %>
      <% if(error.length) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <div class="error">
    <%= error %>
    <button type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"></button>
            <br><br></div>
  </div>
      <% } %>
      
      <%- body %>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
     <!-- Make sure you put this AFTER Leaflet's CSS -->
    <!-- <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script> -->
     <!-- <script>
        // INITIALIZE MAP
        var map = L.map('map').setView([51.505, -0.09], 13);

        // TILE LAYER
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);

        // MARKER
        var marker = L.marker([51.5, -0.09]).addTo(map);

        // POPUP
        marker.bindPopup("asdfg").openPopup();
    </script> -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js"></script>
    <script>
      const swiper = new Swiper('.swiper', {
  // Optional parameters
  direction: 'horizontal',
  loop: true,

  // If we need pagination
  pagination: {
    el: '.swiper-pagination',
  },

  // Navigation arrows
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },

  // And if we need scrollbar
  scrollbar: {
    el: '.swiper-scrollbar',
  },
});
    </script>
</body>
</html>